# Personal Finance Tracker (Flask)

A minimal Flask app to track **expenses, income, budgets, savings goals, and recurring items** with a simple login. Uses SQLite via SQLAlchemy and renders basic monthly reports.

---

## Requirements

- Python 3.10+
- pip / venv
- Packages: `Flask`, `Flask-SQLAlchemy`, `pytest`, `pytest-cov`

Install:

```bash
pip install Flask Flask-SQLAlchemy pytest pytest-cov
```

> Tip: Use a virtual environment (`python -m venv .venv && source .venv/bin/activate`) to keep dependencies isolated.

---

## Quick Start (Run the App)

### Run directly with Python
```bash
python app.py
```
The app starts on `http://127.0.0.1:5000/` with a local SQLite database (e.g., `site.db`).


### Login
Open `http://127.0.0.1:5000/login` and sign in:

- **Username:** `admin`
- **Password:** `1234`

---

## Project Structure

- **`app.py`** – Flask app factory and routes for `/categories`, `/expenses`, `/income`, `/budgets`, `/report`, `/recurring`, plus login/logout and `login_required` protection.
- **`database.py`** – SQLAlchemy database setup.
- **`models.py`** – ORM models: `Category`, `Expense`, `Income`, `Budget`, `SavingsGoal`, `RecurringItem`.
- **`functions.py`** – Business logic: add/delete items, monthly totals, budgets, savings goal progress, and recurring scheduling/posting.
- **`code_test.py`** – Pytest suite that exercises both helper functions and Flask routes (you can add more tests here).

---

## How to Test

Run all tests ( `code_test.py`):
```bash
pytest -q
```

Run a specific file:
```bash
pytest code_test.py -q
```

---

## Test Coverage (pytest-cov)

Show coverage for the main modules **and** list uncovered lines:
```bash
pytest code_test.py   --cov=.  --cov-report=term-missing
```

Generate a clickable HTML coverage report:
```bash
pytest code_test.py --cov=. --cov-report=html
open htmlcov/index.html   # Windows: start htmlcov/index.html
```

---

