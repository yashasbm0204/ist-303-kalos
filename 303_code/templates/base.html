<!doctype html>
<html lang="en" data-bs-theme="dark">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}PFM{% endblock %} - Personal Finance</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='custom.css') }}">
</head>
<body>
  <div class="d-flex">
    <nav class="sidebar bg-black vh-100 p-3">
      <h4 class="text-white mb-4">FinTrack</h4>
      <ul class="nav nav-pills flex-column">
        <li class="nav-item"><a class="nav-link text-white" href="{{ url_for('view_report') }}"><i class="bi bi-pie-chart-fill me-2"></i>Dashboard</a></li>
        <li class="nav-item"><a class="nav-link text-white" href="{{ url_for('expenses') }}"><i class="bi bi-box-arrow-up-right me-2"></i>Expenses</a></li>
        <li class="nav-item"><a class="nav-link text-white" href="{{ url_for('income') }}"><i class="bi bi-box-arrow-in-down-left me-2"></i>Income</a></li>
        <li class="nav-item"><a class="nav-link text-white" href="{{ url_for('budgets') }}"><i class="bi bi-bullseye me-2"></i>Budgets</a></li>
        <li class="nav-item"><a class="nav-link text-white" href="{{ url_for('categories') }}"><i class="bi bi-tags-fill me-2"></i>Categories</a></li>
      </ul>
    </nav>

    <main class="main-content flex-grow-1 p-4">
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="alert alert-{{ 'success' if category=='success' else 'warning' }} alert-dismissible fade show" role="alert">
              {{ message }}
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
          {% endfor %}
        {% endif %}
      {% endwith %}
      {% block content %}{% endblock %}
    </main>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  {% block scripts %}{% endblock %}
</body>
</html>